{"ast":null,"code":"var _jsxFileName = \"D:\\\\TravellerTales\\\\frontend\\\\src\\\\components\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  axios.defaults.withCredentials = true;\n  const navigate = useNavigate();\n  const URL = 'http://localhost:5000/users';\n  const [login, setLogin] = useState(true);\n  const [name, setName] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [age, setAge] = useState(18);\n  const [error, setError] = useState(\"\");\n  const setLoginStatus = value => {\n    setLogin(value);\n    setName(\"\");\n    setUsername(\"\");\n    setPassword(\"\");\n    setError(\"\");\n  };\n  const formSubmit = async e => {\n    e.preventDefault();\n    if (!login) {\n      try {\n        const response = await axios.post(`${URL}/signup`, {\n          name,\n          username,\n          password,\n          age\n        });\n        if (response.data.user) {\n          setError(\"\");\n          setName(\"\");\n          setUsername(\"\");\n          setPassword(\"\");\n          setLogin(true);\n        }\n      } catch (error) {\n        setError(error.response.data.error);\n      }\n    } else {\n      try {\n        const response = await axios.post(`${URL}/login`, {\n          username,\n          password\n        }, {\n          withCredentials: true\n        });\n        if (response.data.user) {\n          localStorage.setItem('userId', response.data.user._id);\n          navigate(\"/\");\n        }\n      } catch (error) {\n        setError(error.response.data.error);\n      }\n    }\n  };\n  const verifyToken = async () => {\n    try {\n      const response = await axios.post(`${URL}/verifyAccessToken`);\n      if (response.data.id) {\n        navigate(\"/\");\n      }\n    } catch (error) {\n      // console.log(error);\n    }\n  };\n  useEffect(() => {\n    verifyToken();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: formSubmit,\n    className: \"my-12 bg-white shadow-lg flex flex-col gap-6 items-start mx-auto rounded-md py-12 px-8 w-[90%] md:w-[35%]\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"font-bold select-none text-lg text-center w-full tracking-wider\",\n      children: login ? \"Login\" : \"Sign-Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-start gap-6 w-full\",\n      children: [!login && /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"border-b-2 tracking-wider w-full focus:outline-none\",\n        placeholder: \"Name\",\n        value: name,\n        onChange: e => setName(e.target.value),\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 28\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"border-b-2 tracking-wider w-full focus:outline-none\",\n        placeholder: \"email\",\n        type: \"email\",\n        value: username,\n        onChange: e => setUsername(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"border-b-2 tracking-wider w-full focus:outline-none\",\n        placeholder: \"Password\",\n        type: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), !login && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center w-full gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Age: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          className: \"flex-1 focus:outline-none\",\n          min: 18,\n          max: 100,\n          value: age,\n          onChange: e => setAge(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 28\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), error.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-[red] text-sm tracking-wider text-center w-full\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 34\n    }, this), login && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"focus:outline-none w-full select-none bg-[orange] py-1 text-white tracking-wider rounded-sm\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 23\n    }, this), !login && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"focus:outline-none w-full select-none bg-[orange] py-1 text-white tracking-wider rounded-sm\",\n      children: \"Sign-Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 24\n    }, this), login && /*#__PURE__*/_jsxDEV(\"p\", {\n      onClick: () => setLoginStatus(false),\n      className: \"text-[blue] select-none mx-auto cursor-pointer text-center text-sm\",\n      children: \"Dont have an account?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 23\n    }, this), !login && /*#__PURE__*/_jsxDEV(\"p\", {\n      onClick: () => setLogin(true),\n      className: \"text-[blue] select-none mx-auto cursor-pointer text-center text-sm\",\n      children: \"Have an account?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"5Qf4YqoiL3+iyBK5/YMPODl6NZQ=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useEffect","useState","axios","useNavigate","Login","defaults","withCredentials","navigate","URL","login","setLogin","name","setName","username","setUsername","password","setPassword","age","setAge","error","setError","setLoginStatus","value","formSubmit","e","preventDefault","response","post","data","user","localStorage","setItem","_id","verifyToken","id","target","length"],"sources":["D:/TravellerTales/frontend/src/components/Login.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Login = () => {\n\n    axios.defaults.withCredentials = true;\n    const navigate = useNavigate();\n    const URL = 'http://localhost:5000/users';\n    const [login, setLogin] = useState(true);\n    const [name, setName] = useState(\"\")\n    const [username, setUsername] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const [age, setAge] = useState(18)\n    const [error, setError] = useState(\"\");\n\n    const setLoginStatus = (value) => {\n        setLogin(value)\n        setName(\"\");\n        setUsername(\"\");\n        setPassword(\"\");\n        setError(\"\");\n    }\n\n    const formSubmit = async (e) => {\n        e.preventDefault();\n\n        if (!login) {\n            try {\n                const response = await axios.post(`${URL}/signup`, {\n                    name,\n                    username,\n                    password,\n                    age\n                });\n                if (response.data.user) {\n                    setError(\"\");\n                    setName(\"\");\n                    setUsername(\"\");\n                    setPassword(\"\");\n                    setLogin(true);\n                }\n            } catch (error) {\n                setError(error.response.data.error)\n            }\n        } else {\n            try {\n                const response = await axios.post(`${URL}/login`, {\n                    username,\n                    password\n                }, {\n                    withCredentials: true\n                });\n                if (response.data.user) {\n                    localStorage.setItem('userId', response.data.user._id);\n                    navigate(\"/\");\n                }\n            } catch (error) {\n                setError(error.response.data.error)\n            }\n        }\n\n    }\n\n    const verifyToken = async () => {\n        try {\n            const response = await axios.post(`${URL}/verifyAccessToken`);\n            if (response.data.id) {\n                navigate(\"/\");\n            }\n        } catch (error) {\n            // console.log(error);\n        }\n    }\n\n    useEffect(() => {\n        verifyToken();\n    }, [])\n\n    return (\n        <form onSubmit={formSubmit} className=\"my-12 bg-white shadow-lg flex flex-col gap-6 items-start mx-auto rounded-md py-12 px-8 w-[90%] md:w-[35%]\">\n            <h2 className=\"font-bold select-none text-lg text-center w-full tracking-wider\">{login ? \"Login\" : \"Sign-Up\"}</h2>\n            <div className=\"flex flex-col items-start gap-6 w-full\">\n                {!login && <input className=\"border-b-2 tracking-wider w-full focus:outline-none\" placeholder=\"Name\" value={name} onChange={(e) => setName(e.target.value)} type=\"text\" />}\n                <input className=\"border-b-2 tracking-wider w-full focus:outline-none\" placeholder=\"email\" type=\"email\" value={username} onChange={(e) => setUsername(e.target.value)} />\n                <input className=\"border-b-2 tracking-wider w-full focus:outline-none\" placeholder=\"Password\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n                {!login && <div className=\"flex items-center w-full gap-2\">\n                    <p>Age: </p>\n                    <input type=\"number\" className=\"flex-1 focus:outline-none\" min={18} max={100} value={age} onChange={(e) => setAge(e.target.value)} />\n                </div>}\n            </div>\n            {error.length > 0 && <p className=\"text-[red] text-sm tracking-wider text-center w-full\">{error}</p>}\n            {login && <button className=\"focus:outline-none w-full select-none bg-[orange] py-1 text-white tracking-wider rounded-sm\">Login</button>}\n            {!login && <button className=\"focus:outline-none w-full select-none bg-[orange] py-1 text-white tracking-wider rounded-sm\">Sign-Up</button>}\n            {login && <p onClick={() => setLoginStatus(false)} className=\"text-[blue] select-none mx-auto cursor-pointer text-center text-sm\">Dont have an account?</p>}\n            {!login && <p onClick={() => setLogin(true)} className=\"text-[blue] select-none mx-auto cursor-pointer text-center text-sm\">Have an account?</p>}\n        </form>\n    )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}