{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\TravellerTales\\\\TravellerTales\\\\TravellerTales\\\\frontend\\\\src\\\\components\\\\Blog.jsx\",\n  _s = $RefreshSig$();\nimport { formatDistanceToNow } from \"date-fns\";\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport EditIcon from '@mui/icons-material/Edit';\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport TempleHinduIcon from '@mui/icons-material/TempleHindu';\nimport DownhillSkiingIcon from '@mui/icons-material/DownhillSkiing';\nimport DirectionsCarIcon from '@mui/icons-material/DirectionsCar';\nimport AccessibilityNewIcon from '@mui/icons-material/AccessibilityNew';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\naxios.defaults.withCredentials = true;\nconst Blog = _ref => {\n  _s();\n  let {\n    filterBlogs,\n    blog,\n    userId,\n    setBlogId\n  } = _ref;\n  const navigate = useNavigate();\n  const URL = \"http://localhost:5000/blogs\";\n  const deleteBlog = async blogId => {\n    try {\n      const response = await axios.delete(`${URL}/deleteBlog`, {\n        data: {\n          id: localStorage.getItem('userId'),\n          blogId\n        }\n      });\n      if (response.status === 204) {\n        filterBlogs(blogId);\n      }\n    } catch (error) {\n      if (error.response.status === 401) {\n        navigate(\"/login\");\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"shadow-sm flex flex-col items-start gap-2 bg-white rounded-md p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-bold tracking-wider text-sm\",\n        children: [\"Author: \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-normal\",\n          children: blog.user.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 73\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), blog.filter === \"Solo Travel\" && /*#__PURE__*/_jsxDEV(AccessibilityNewIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 51\n      }, this), blog.filter === \"Pilgrimage\" && /*#__PURE__*/_jsxDEV(TempleHinduIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 51\n      }, this), blog.filter === \"Road Trips\" && /*#__PURE__*/_jsxDEV(DirectionsCarIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 50\n      }, this), blog.filter === \"Adventure\" && /*#__PURE__*/_jsxDEV(DownhillSkiingIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 49\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), blog.user._id === userId && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-1\",\n      children: [/*#__PURE__*/_jsxDEV(EditIcon, {\n        className: \"cursor-pointer\",\n        onClick: () => {\n          setBlogId(blog._id);\n          navigate(\"/editBlog\");\n        },\n        style: {\n          color: \"blue\",\n          fontSize: 20\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DeleteIcon, {\n        className: \"cursor-pointer\",\n        onClick: () => deleteBlog(blog._id),\n        style: {\n          color: \"red\",\n          fontSize: 20\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 42\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      className: \"w-full\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col gap-2 mt-1 w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-bold traci=king-wider\",\n        children: blog.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), blog.imageUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"max-h-[400px] object-fill\",\n        src: `http://localhost:5000/static/${blog.imageUrl}`,\n        alt: \"Image Not Avaialable\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 35\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"tracking-wider text-justify\",\n        children: blog.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), blog.url && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mt-1\",\n      children: [\"Source - \", /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"text-[blue]\",\n        href: blog.url,\n        children: blog.url.length > 85 ? blog.url.slice(0, 83) + \"...\" : blog.url\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 55\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"tracking-wider text-[grey] text-sm mt-1\",\n      children: [\"Posted \", formatDistanceToNow(new Date(blog.createdAt), {\n        addSuffix: true\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n_s(Blog, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = Blog;\nexport default Blog;\nvar _c;\n$RefreshReg$(_c, \"Blog\");","map":{"version":3,"names":["formatDistanceToNow","DeleteIcon","EditIcon","axios","useNavigate","TempleHinduIcon","DownhillSkiingIcon","DirectionsCarIcon","AccessibilityNewIcon","defaults","withCredentials","Blog","filterBlogs","blog","userId","setBlogId","navigate","URL","deleteBlog","blogId","response","delete","data","id","localStorage","getItem","status","error","user","name","filter","_id","color","fontSize","title","imageUrl","description","url","length","slice","Date","createdAt","addSuffix"],"sources":["C:/Users/HP/Downloads/TravellerTales/TravellerTales/TravellerTales/frontend/src/components/Blog.jsx"],"sourcesContent":["import { formatDistanceToNow } from \"date-fns\"\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport EditIcon from '@mui/icons-material/Edit';\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport TempleHinduIcon from '@mui/icons-material/TempleHindu';\nimport DownhillSkiingIcon from '@mui/icons-material/DownhillSkiing';\nimport DirectionsCarIcon from '@mui/icons-material/DirectionsCar';\nimport AccessibilityNewIcon from '@mui/icons-material/AccessibilityNew';\n\naxios.defaults.withCredentials = true;\nconst Blog = ({ filterBlogs, blog, userId, setBlogId }) => {\n\n    const navigate = useNavigate();\n    const URL = \"http://localhost:5000/blogs\";\n    const deleteBlog = async (blogId) => {\n        try {\n            const response = await axios.delete(`${URL}/deleteBlog`, {\n                data: {\n                    id: localStorage.getItem('userId'),\n                    blogId\n                }\n            })\n            if (response.status === 204) {\n                filterBlogs(blogId);\n            }\n        } catch (error) {\n            if (error.response.status === 401) {\n                navigate(\"/login\");\n            }\n        }\n    }\n\n    return (\n        <div className=\"shadow-sm flex flex-col items-start gap-2 bg-white rounded-md p-4\">\n            <div className=\"flex items-center justify-between w-full\">\n                <p className=\"font-bold tracking-wider text-sm\">Author: <span className=\"font-normal\">{blog.user.name}</span></p>\n                {blog.filter === \"Solo Travel\" && <AccessibilityNewIcon />}\n                {blog.filter === \"Pilgrimage\"  && <TempleHinduIcon />}\n                {blog.filter === \"Road Trips\" && <DirectionsCarIcon />}\n                {blog.filter === \"Adventure\" && <DownhillSkiingIcon />}\n            </div>\n            {blog.user._id === userId && <div className=\"flex items-center gap-1\">\n                <EditIcon className=\"cursor-pointer\" onClick={() => {\n                    setBlogId(blog._id);\n                    navigate(\"/editBlog\");\n                }} style={{ color: \"blue\", fontSize: 20 }} />\n                <DeleteIcon className=\"cursor-pointer\" onClick={() => deleteBlog(blog._id)} style={{ color: \"red\", fontSize: 20 }} />\n            </div>}\n            <hr className=\"w-full\" />\n            <div className=\"flex flex-col gap-2 mt-1 w-full\">\n                <p className=\"font-bold traci=king-wider\">{blog.title}</p>\n                {blog.imageUrl && <img className=\"max-h-[400px] object-fill\" src={`http://localhost:5000/static/${blog.imageUrl}`} alt=\"Image Not Avaialable\" />}\n                <p className=\"tracking-wider text-justify\">{blog.description}</p>\n            </div>\n            {blog.url && <p className=\"mt-1\">Source - <a className=\"text-[blue]\" href={blog.url}>{blog.url.length > 85 ? blog.url.slice(0, 83)+\"...\" : blog.url}</a></p>}\n            <p className=\"tracking-wider text-[grey] text-sm mt-1\">Posted {formatDistanceToNow(new Date(blog.createdAt), {\n                addSuffix: true\n            })}</p>\n        </div>\n    )\n}\n\nexport default Blog"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}